{"version":3,"sources":["components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.ts","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","assets/images/avatar.png","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddPostForm/AddPostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["FormControl","_ref","_ref$meta","meta","touched","error","children","hasError","_jsxs","className","styles","formControl","_jsx","Textarea","props","input","restProps","_objectWithoutProperties","_excluded","_objectSpread","Input","_excluded2","createField","placeholder","name","validators","component","arguments","length","undefined","text","Field","validate","module","exports","required","value","maxLengthCreator","maxLength","concat","ProfileStatusWithHooks","_useState","useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","onSubmit","style","formSummaryError","type","Object","keys","contacts","map","key","s","contact","ProfileData","_ref2","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","contactTitle","contactValue","_ref3","ProfileInfo","savePhoto","saveProfile","Preloader","profileInfoBlock","descriptionBlock","descriptionLeft","alt","src","photos","large","userPhoto","mainPhoto","target","files","descriptionRight","ProfileDataForm","initialValues","formData","then","Post","item","avatar","message","likesCount","MyPosts","postsElements","_toConsumableArray","posts","reverse","p","id","postsBlock","AddPostForm","values","addPost","newPostText","MyPostsMemorized","React","memo","MyPostsContainer","connect","state","profilePage","actions","addPostActionCreator","Profile","ProfileContainer","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","console","refreshProfile","prevProps","prevState","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.715a6d5c.chunk.js","sourcesContent":["import React from \"react\"\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {FieldValidatorType} from \"../../../utils/validators/validators\"\r\nimport {Field, WrappedFieldProps} from \"redux-form\"\r\nimport {WrappedFieldMetaProps} from 'redux-form/lib/Field'\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                            name: FormKeysType,\r\n                            validators: Array<FieldValidatorType>,\r\n                            component: React.FC<WrappedFieldProps>,\r\n                            props = {}, text = \"\") {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3H16I\",\"error\":\"FormsControls_error__16rUg\",\"formSummaryError\":\"FormsControls_formSummaryError__WpYbU\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1yIqR\",\"mainPhoto\":\"ProfileInfo_mainPhoto__2S79O\",\"contact\":\"ProfileInfo_contact__2VGGi\",\"profileInfoBlock\":\"ProfileInfo_profileInfoBlock__2Rx3j\",\"descriptionLeft\":\"ProfileInfo_descriptionLeft__DzQVR\",\"descriptionRight\":\"ProfileInfo_descriptionRight__2u0y9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__WEbVf\",\"posts\":\"MyPosts_posts__emRG0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1qdEQ\"};","import React, {useState, useEffect, ChangeEvent} from 'react';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status: </b> <span onDoubleClick={activateEditMode}>{props.status || \"-------\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\nimport {createField, GetStringKeys, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport style from \"../../common/FormsControls/FormsControls.module.css\";\r\nimport {ProfileType} from '../../../types/types';\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\ntype ProfileTypeKeys = GetStringKeys<ProfileType>\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileType, PropsType> & PropsType> = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div><button>save</button></div>\r\n        {error && <div className={style.formSummaryError}>\r\n            {error}\r\n        </div>\r\n        }\r\n        <div>\r\n            <b>Full name</b>: {createField<ProfileTypeKeys>(\"Full name\", \"fullName\", [], Input)}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: { createField<ProfileTypeKeys>(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\"} )}\r\n        </div>\r\n\r\n        <div>\r\n            <b>My professional skills</b>:\r\n            { createField<ProfileTypeKeys>(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea  )}\r\n        </div>\r\n\r\n\r\n        <div>\r\n            <b>About me</b>:\r\n            { createField<ProfileTypeKeys>(\"About me\", \"aboutMe\", [], Textarea  )}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <div key={key} className={s.contact}>\r\n                {/* todo: create some solution for embedded objects */}\r\n            <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, PropsType>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;\r\n","import React, { ChangeEvent, useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport { ContactsType, ProfileType } from '../../../types/types';\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\nconst ProfileInfo: React.FC<PropsType> = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        saveProfile(formData).then(\r\n            () => {\r\n                setEditMode(false);\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={s.profileInfoBlock}>\r\n            <div className={s.descriptionBlock}>\r\n                <div className={s.descriptionLeft}>\r\n                    <img alt='userPhoto' src={profile.photos.large || userPhoto} className={s.mainPhoto} />\r\n                    {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\r\n                </div>\r\n                <div className={s.descriptionRight}>\r\n                    {editMode\r\n                        ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\r\n                        : <ProfileData goToEditMode={() => { setEditMode(true) }} profile={profile} isOwner={isOwner} />}\r\n\r\n\r\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({ profile, isOwner, goToEditMode }) => {\r\n    return <div>\r\n        {isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\r\n        <div>\r\n            <b>Full name</b>: {profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professional skills</b>: {profile.lookingForAJobDescription}\r\n            </div>\r\n        }\r\n\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {\r\n                Object\r\n                    .keys(profile.contacts)\r\n                    .map((key) => {\r\n                        return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]} />\r\n                    })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\ntype ContactsPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\nconst Contact: React.FC<ContactsPropsType> = ({ contactTitle, contactValue }) => {\r\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","export default __webpack_public_path__ + \"static/media/avatar.e85cd663.png\";","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport avatar from '../../../../assets/images/avatar.png';\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src={avatar} alt='avatar'/>\r\n        { props.message }\r\n          <div>\r\n        <span>like</span> { props.likesCount }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeys, Input} from '../../../common/FormsControls/FormsControls';\r\nimport {required} from '../../../../utils/validators/validators';\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nexport type AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\n\r\ntype AddPostFormValuesTypeKeys = GetStringKeys<AddPostFormValuesType>\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormValuesType, PropsType> & PropsType> = (props) => {\r\n    return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    { createField<AddPostFormValuesTypeKeys>(\"Your post\", 'newPostText', [required], Input) }\r\n                </div>\r\n                <div>\r\n                    <button>Add post</button>\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm<AddPostFormValuesType, PropsType>({form: 'profile-add-post'})(AddPostForm)\r\n","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddPostForm, {AddPostFormValuesType} from './AddPostForm/AddPostForm';\r\nimport {PostType} from '../../../types/types';\r\n\r\n\r\nexport type MapPropsType = {\r\n    posts: Array<PostType>\r\n}\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = props => {\r\n    let postsElements =\r\n        [...props.posts]\r\n            .reverse()\r\n            .map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount}/>);\r\n\r\n    let onAddPost = (values: AddPostFormValuesType) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddPostForm onSubmit={onAddPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MyPostsMemorized = React.memo(MyPosts);\r\n\r\nexport default MyPostsMemorized;\r\n","import {actions} from \"../../../redux/profile-reducer\";\r\nimport MyPosts, {DispatchPropsType, MapPropsType} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from '../../../redux/redux-store';\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {\r\n    addPost: actions.addPostActionCreator\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from '../../types/types';\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\nconst Profile:React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={props.savePhoto}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         saveProfile={props.saveProfile}\r\n                         updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter, RouteComponentProps} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {ProfileType} from '../../types/types';\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>;\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                // todo: may be replace push with Redirect??\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n\r\n        if (!userId) {\r\n            console.error(\"ID should exists in URI params or in state ('authorizedUserId')\");\r\n        } else {\r\n            this.props.getUserProfile(userId)\r\n            this.props.getStatus(userId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    //console.log('mapStateToProps PROFILE')\r\n    return ({\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    })\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer);\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}